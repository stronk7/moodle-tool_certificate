define(["jquery","tool_wp/modal_form","tool_wp/tabs","core/notification","core/str","core/ajax"],function(a,b,c,d,e,f){var g=function(c){c.preventDefault();var d=a(c.currentTarget),f=d.attr("data-id"),g=d.attr("data-name"),h=new b({formClass:"tool_certificate\\form\\details",args:{id:f},modalConfig:{title:e.get_string("editcertificate","tool_certificate",g)},triggerElement:d}),i=h.onInit;h.onInit=function(){this.modal.setSaveButtonText(e.get_string("save")),i.bind(this)()},h.onSubmitSuccess=function(){window.location.reload()}},h=function(b){b.preventDefault(),e.get_strings([{key:"confirm"},{key:"deleteelementconfirm",component:"tool_certificate",param:a(b.currentTarget).attr("data-name")},{key:"delete"},{key:"cancel"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){var c=f.call([{methodname:"tool_certificate_delete_element",args:{id:a(b.currentTarget).attr("data-id")}}]);c[0].done(function(){window.location.reload()}).fail(d.exception)})}).fail(d.exception)},i=function(c){c.preventDefault();var d=new b({formClass:"tool_certificate\\edit_element_form",args:{id:a(c.currentTarget).attr("data-id")},modalConfig:{title:e.get_string("editelement","tool_certificate",a(c.currentTarget).attr("data-name"))},saveButtonText:e.get_string("save"),triggerElement:a(c.currentTarget)});d.onSubmitSuccess=function(){window.location.reload()}},j=function(c){c.preventDefault();var d=a(c.currentTarget).attr("data-pageid"),f=a("#id_element_"+d).val(),g=new b({formClass:"tool_certificate\\edit_element_form",args:{pageid:d,element:f},modalConfig:{title:e.get_string("addelement","tool_certificate")},saveButtonText:e.get_string("save"),triggerElement:a(c.currentTarget)});g.onSubmitSuccess=function(){window.location.reload()}};return{init:function(){a('[data-action="editdetails"]').on("click",g),a('[data-action="deleteelement"]').on("click",h),a('[data-action="editelement"]').on("click",i),a('[data-action="addelement"]').on("click",j)}}});