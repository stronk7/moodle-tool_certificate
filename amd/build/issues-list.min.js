define ("tool_certificate/issues-list",["jquery","tool_wp/modal_form","tool_wp/tabs","core/notification","core/str","core/ajax","tool_wp/notification","tool_reportbuilder/reportbuilder_events"],function(a,b,c,d,f,g,h,i){var j={ADDISSUE:"[data-tabs-element='addbutton']",REPORTCONTAINER:"[data-region='system-report'] [data-region='data-report']",REVOKEISSUE:"[data-action='revoke']"},k=function(){var b=a(j.REPORTCONTAINER);if(b){b.trigger(i.RELOADTABLE)}else{window.location.reload()}},l=function(c){c.preventDefault();var d=new b({formClass:"tool_certificate\\form\\certificate_issues",args:{tid:a(c.currentTarget).attr("data-tid")},modalConfig:{title:f.get_string("issuecertificates","tool_certificate")},saveButtonText:f.get_string("save"),triggerElement:a(c.currentTarget)});d.onSubmitSuccess=function(a){a=parseInt(a,10);if(a){f.get_strings([{key:"oneissuewascreated",component:"tool_certificate"},{key:"aissueswerecreated",component:"tool_certificate",param:a}]).done(function(b){var c=1<a?b[1]:b[0];h.addNotification({message:c,type:"success"})});k()}else{f.get_string("noissueswerecreated","tool_certificate").done(function(a){h.addNotification({message:a,type:"warning"})})}}},m=function(b){b.preventDefault();b.stopPropagation();f.get_strings([{key:"confirm"},{key:"revokecertificateconfirm",component:"tool_certificate"},{key:"revoke",component:"tool_certificate"},{key:"cancel"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){var c=g.call([{methodname:"tool_certificate_revoke_issue",args:{id:a(b.currentTarget).attr("data-id")}}]);c[0].done(function(){k()}).fail(d.exception)})}).fail(d.exception)};return{init:function init(){a("body").on("click",j.ADDISSUE,l).on("click",j.REVOKEISSUE,m)}}});
//# sourceMappingURL=issues-list.min.js.map
