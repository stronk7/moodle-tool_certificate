define ("tool_certificate/form_certificate_selector",["jquery","core/ajax","core/templates","core/str"],function(a,b,c,d){return{processResults:function processResults(b,c){var d=[];if(a.isArray(c)){a.each(c,function(a,b){d.push({value:b.id,label:b._label})});return d}else{return c}},transport:function transport(e,f,g,h){var i=b.call([{methodname:"tool_certificate_potential_certificate_selector",args:{search:f}}]);i[0].then(function(b){var e=[],f=0;if(b.length<=100){a.each(b,function(b,d){var f=d,g=[];a.each(["idnumber"],function(a,b){if("undefined"!=typeof d[b]&&""!==d[b]){f.hasidentity=!0;g.push(d[b])}});f.identity=g.join(", ");e.push(c.render("tool_certificate/form_certificate_selector_suggestion",f))});return a.when.apply(a.when,e).then(function(){var c=arguments;a.each(b,function(a,b){b._label=c[f];f++});return g(b)})}else{return d.get_string("toomanycertificatestoshow","tool_certificate",">100").then(function(a){return g(a)})}}).fail(h)}}});
//# sourceMappingURL=form_certificate_selector.min.js.map
